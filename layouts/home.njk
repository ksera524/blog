{% extends "base.njk" %}

{% block content %}
  {% set combinedPosts = collections.tech or [] %}
  {% set combinedPosts = combinedPosts.concat(collections.cook or []) %}
  {% set combinedPosts = combinedPosts | sortByDateDesc %}
  {% if combinedPosts and (combinedPosts | length) %}
    <div class="post-list">
      {% for post in combinedPosts %}
        <article class="post-card">
          <p class="post-card__meta">{{ post.date | readableDate }} Â· {{ post.data.section | upper }}</p>
          <h2 class="post-card__title"><a href="{{ post.url }}">{{ post.data.title }}</a></h2>
          {% if post.data.description %}
            <p class="post-card__summary">{{ post.data.description }}</p>
          {% endif %}
          {% if post.data.categories and post.data.categories.length %}
            <p class="post-card__categories">
              {% for category in post.data.categories %}
                <span class="pill">{{ category }}</span>
              {% endfor %}
            </p>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
